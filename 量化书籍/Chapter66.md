# 从零学量化66—规模因子：小即是美 

## 01 规模因子概述
### （一）规模因子的理论基础
规模因子是一个重要的风格因子，它指的是公司的市值大小对股票回报的影响。根据规模因子理论，较小市值的公司通常有更高的收益率，而较大市值的公司通常有更低的收益率。这种现象被称为“规模溢价”。

20世纪80年代，美国经济学家Eugene Fama和Kenneth French提出了著名的三因子模型，即市场因子、价值因子和规模因子，以解释资本市场中的回报差异。其中规模因子即为反映公司市值大小对回报的影响。他们发现，在过去几十年的数据中，市值较小的公司相对于市值较大的公司具有更高的超额收益。随后，学术界对规模因子进行了更深入的研究和探讨，对规模因子能带来超额收益的理论解释主要有：
#### 1. 风险溢价理论
规模因子被视为一种风险，市值较小的公司由于其规模较小，通常具有更高的风险，因此投资者需要承担更高的风险溢价才能获得相应的回报。
##### 2. 信息不对称理论
市值较小的公司通常被认为更容易受到信息不对称的影响，这意味着投资者需要更多的时间和成本来获取和分析公司的信息。因此，对于那些能够有效获取和分析信息的投资者来说，市值较小的公司可能会提供更好的投资机会和更高的回报。
#### 3. 市场非理性行为理论
市场非理性行为可能导致市值较小的公司被低估或高估，从而提供投资机会。例如，市场可能过度关注市值较大的公司，而忽视了市值较小的公司，导致后者的股价被低估。
### 4. 企业发展理论
市值较小的公司通常处于初创或发展阶段，具有更高的成长潜力和创新能力，这意味着它们可能会在未来创造更高的价值和回报。
这些理论提供了不同的视角来解释为什么市值较小的公司可能会带来超额收益。
### （二）规模因子的投资风险
虽然规模因子具有超额收益，但也存在风险。规模因子的投资风险主要有：
#### 1. 波动风险
市值较小的公司通常具有较大的波动性，因此规模因子的收益可能会出现较大的波动。市场对市值较小的公司的关注度可能会受到非理性行为的影响，导致这些公司的股价出现较大的波动，从而增加了投资风险。
#### 2. 概念风险
市值较小的公司可能涉及到一些新的或未被广泛认可的概念或技术，这些概念和技术的成功或失败可能会对股票价格产生较大的影响，增加了投资风险。
#### 3. 资金流动性风险
由于市值较小的公司通常具有较小的市值和流动性，因此在市场出现大幅波动时，这些公司的股票可能更难以买卖，从而导致投资者无法在需要时及时卖出股票。
### 02 规模因子的具体指标
我们通常用市值来作为规模因子的指标，股票的市值有多个口径，常见的有：
#### 1. 总市值还是流通市值
总市值是指公司的全部股票的市值总和，包括股票已发行但未流通的股份。总市值通常用于衡量公司整体的规模，因此总市值可以更全面地反映公司的规模。
流通市值是指公司股票中已经发行并且流通在市场上的股票的市值总和。流通市值只计算那些实际可以交易的股份，因此它更能反映公司的市场价值。

总市值和流通市值都可以用作规模因子的指标，但是两者有不同的特点，应该根据具体情况来选择使用哪一个指标。
#### 2. 原值还是对数市值
我们还可以用市值的自然对数作为规模因子，对数市值有以下几个主要优点：

1）减少极端值的影响：自然对数转换可以有效地缩小极大和极小值之间的差距，使得数据更稳定，减少极端值对模型的影响。

2）改善数据的正态性：自然对数转换可以使原始数据更接近正态分布，这对于很多统计模型来说是一个重要的假设。

3）解决异方差问题：在金融数据中，大市值公司和小市值公司的规模数据可能存在异方差性，即数据的方差随着其均值的增大而增大。自然对数转换可以在一定程度上纠正这种异方差性。

4）保持数据的相对大小关系：尽管自然对数转换会改变数据的绝对大小，但它会保持数据的相对大小关系。也就是说，更大的市值公司在转换后仍然会有更大的对数市值。

由于有上述优点，我们更多时候是用对数市值来代表规模因子。
#### 03 规模因子评价
在《量化工具箱：因子评价神器Alphalens库超详细教程》中，我们介绍了如何用Alphalens对总市值因子进行评价，包括分组收益、IC评价、换手续评价等，相关内容详见上述文章。

在本节，我们以对数流通市值为例，用Alphalens对该因子进行评价。

我为大家整理了计算和评价因子所需的全部沪深股票2010年1月1日至2023年6月30日的数据，数据文件名为：factor_data.csv，在后台回复“规模因子”可获取。

因子评价的相关代码如下，这些代码在《量化工具箱：因子评价神器Alphalens库超详细教程》中已有详细讲解，这里不再赘述。