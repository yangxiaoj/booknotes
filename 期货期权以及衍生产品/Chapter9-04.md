# 9.4 计算问题

所有调节量的计算都非常耗费时间，我们需要通过蒙特卡罗模拟来确定将来的信用风险敞口、预期融资成本以及所需的预期资本。银行常常需要主动管理CVA，它们常常需要购买信用违约互换（见第7.12节和第15章）或者类似的信用保护产品来防范对手违约风险，这样做可以降低预期违约损失。

如第9.1节所示，我们必须针对某个交易对手的整个衍生产品组合来进行CVA和DVA的计算，计算过程不能只是针对单一交易，这么做是因为净值结算条款。银行与对手签署的一个新的双边清算交易是否会使得CVA和DVA有所增大或者有所减小取决于将该笔交易与其他交易进行净额结算后的结果。当新交易增大信用风险敞口时，附加CVA为正；当新交易减小信用风险敞口时，附加CVA为负。对于DVA，我们也有类似的结论。

附加FVA可以通过每笔交易进行计算，这是因为在将来任意时刻，对于交易组合的净融资需求等于对每笔交易的融资需求的总和。通过CCP清算的交易来计算MVA时，我们需要基于交易组合。在图9-1的例子中，决定银行A的一笔新交易需要附加的初始保证金（并因此决定MVA）的因素取决于该笔新交易对于银行A在CCP进行清算的交易组合的整体影响。KVA的计算更加复杂，在计算附加资本要求时，监管采用的规则（至少在理论上）要求从业者对于银行的整体交易组合进行建模。

## 机器学习应用

由于价值调节量的计算相当耗时，一些银行正在使用机器学习来获得更快的结果。这些银行特别感兴趣的是如何能快速分析关于新交易对价值调节量的影响，神经网络可以用来做到这一点。这是一种灵活的算法，当大量数据可以被获得时，它可以学习目标变量的值（输出）与特征的值（输入）之间的连续关系。一旦网络建立完毕，这种连续关系就会很快从特征中被计算出来。

为了创建一个神经网络来计算价值调节量的增量，分析人员会随机创建许多不同的计算输入数据集（该数据集将包括描述新交易和现有交易的相关方面的特征），使用蒙特卡罗模拟来计算每个数据集的价值调节量，并使用一个算法来找到一个尽可能准确地复制蒙特卡罗计算的神经网络。