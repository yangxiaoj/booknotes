# 量化实战入门117—波动性指标详解：布林带 / 唐奇安通道 / Holt-Winter Channel 

本文介绍以下几个技术指标：Bollinger Bands（布林带）、Donchian Channel（唐奇安通道）、Holt-Winter Channel。这几个指标都属于波动性（Volatility）指标，波动性指标主要用于衡量金融证券的价格变动幅度和速度，可以帮助投资者理解市场的稳定性和可能的风险。

本系列中的各项指标都可以通过调用 Pandas TA 库来实现，Pandas TA 库的使用详见《量化宝藏工具箱：技术指标库 Pandas TA 教程》一文。
## 1. Bollinger Bands（布林带，bbands）

布林带 (Bollinger Bands，简称 BBANDS) 是由 John Bollinger 提出的一种流行的波动性指标，主要用来衡量价格的高低程度以及波动性。布林带由三条线组成：中线是移动平均线，上线和下线则是在中线的基础上加减标准差得到的。

布林带的计算公式如下：

1）计算收盘价序列的移动平均线（MID）。

2）计算收盘价序列的标准差（stdev）：

3）计算布林带的上线和下线：

```python 

LOWER = MID - std * stdev
UPPER = MID + std * stdev

```

4）计算布林带的宽度和价格在布林带中的位置：

```python 

BANDWIDTH = 100 * (UPPER - LOWER) / MID
PERCENT = (close - LOWER) / (UPPER - LOWER)

```

以下是布林带一些主要的应用方法：

1）波动性度量：当布林带的宽度（上线与下线之间的距离）扩大时，表示市场波动性增大，可能预示着价格大幅波动的可能性增加；当布林带的宽度收窄时，表示市场波动性减小，可能预示着市场即将进入平静期。

2）超买超卖判断：布林带的上线和下线可被视为价格的相对高点和低点，通常，当价格触及上线时，市场可能处于超买状态，可能存在回落的可能性；反之，当价格触及下线时，市场可能处于超卖状态，可能存在反弹的可能性。

3）趋势判断：价格在布林带的中线上方运动，通常被认为是上升趋势；在中线下方运动，则可能表示下降趋势。

4）突破信号：当价格突破上线或者下线，特别是伴随着交易量的放大，可能预示着价格趋势的改变。但这种信号需要谨慎处理，因为有可能是假突破。

该指标在 Pandas TA 库中的函数是：

```python 

bbands(close, length=None, std=None, ddof=0, mamode=None, talib=None, offset=None, **kwargs)

```


## 2. Donchian Channel（唐奇安通道，donchian）
唐奇安通道 (Donchian Channels，简称 donchian) 是一种用于度量市场波动性的技术分析工具，与布林带和凯特纳通道类似，唐奇安通道由上、中、下三条线组成。

唐奇安通道的计算公式如下：

1）计算下线 LOWER，即过去若干个周期内的最低价。

2）计算上线 UPPER，即过去若干个周期内的最高价。
## 3. 计算中线 MID，为上线和下线的平均值。

以下是唐奇安通道的一些主要的应用方法：

1）趋势判断：价格在唐奇安通道的中线上方运动，通常被认为是上升趋势；在中线下方运动，则可能表示下降趋势。

2）突破信号：当价格突破上线或者下线，特别是伴随着交易量的放大，可能预示着价格趋势的改变。这种突破通常被认为是买入或卖出的信号。但请注意，有可能出现假突破的情况。

3）波动性度量：当通道（上线与下线之间的距离）扩大时，表示市场波动性增大，可能预示着价格大幅波动的可能性增加；当通道收窄时，表示市场波动性减小，可能预示着市场即将进入平静期。

4）支撑和阻力：在某些情况下，上线和下线可以作为短期的阻力和支撑线。价格可能会在接触到这些线后反弹。

该指标在 Pandas TA 库中的函数是：

```python 

donchian(high, low, lower_length=None, upper_length=None, offset=None, **kwargs)

```

## 4. Holt-Winter Channel（Holt-Winter通道，hwc）
Holt-Winter通道（Holt-Winter Channel，HWC）是一种趋势追踪和波动率指标，它的上线、下线和中线提供了股票或其他金融资产价格的可能运动范围。

Holt-Winter通道是一种基于Holt-Winter移动平均 (HWMA) 的通道指标。HWMA 是一种通过Holt-Winter方法计算的三参数移动平均。

Holt-Winter移动平均（HWMA）是一种由Holt-Winter模型（Holt-Winters model）派生的时间序列平滑方法。Holt-Winter模型是一种可以处理季节性变化的指数平滑方法，它是由两个分别考虑趋势因素和季节性因素的加权平均组成。HWMA既考虑了趋势变化，又考虑了季节性因素，使得它能更好地捕捉和平滑时间序列数据的动态变化。

Holt-Winter通道的上线和下线是通过考虑当前的Holt-Winter移动平均值（HWMA）和价格的波动程度（即标准差）来计算的。通道的上线（Upper）和下线（Lower）则分别是在当前的HWMA上加或减去scalar倍的标准差。这样，Holt-Winter通道的上线和下线就能够描述价格在特定时间范围内的可能波动范围，进一步帮助投资者理解市场的波动性和未来可能的价格走向。

以下是如何使用这个指标的一些基本原则：

1）判断趋势：中线（HWMA）可以被视为资产的平均价格或趋势线。如果资产价格上穿中线，那么可能是一个上涨趋势的信号；反之，如果资产价格下穿中线，那么可能是一个下跌趋势的信号。

2）判断波动性：通道的宽度（即上线和下线之间的距离）反映了市场的波动性。通道越宽，市场的波动性越大；通道越窄，市场的波动性越小。因此，如果通道开始扩大，那可能意味着市场波动性正在增加，投资者应该更加谨慎；反之，如果通道开始收窄，那可能意味着市场波动性正在减小，投资者可能可以考虑更积极的投资策略。

3）判断超买或超卖状态：如果资产价格接近或触及上线，那可能意味着该资产被超买，即价格可能过高，有回落的风险；反之，如果资产价格接近或触及下线，那可能意味着该资产被超卖，即价格可能过低，有反弹的可能。

4）生成交易信号：当资产价格从通道的一侧穿越到另一侧时，可能是一个交易信号。具体来说，如果资产价格从下线穿越到上线，那可能是一个买入信号；反之，如果资产价格从上线穿越到下线，那可能是一个卖出信号。

该指标在 Pandas TA 库中的函数是：

```python 

hwc(close, na=None, nb=None, nc=None, nd=None, scalar=None, channel_eval=None, offset=None, **kwargs)

```

未完待续……