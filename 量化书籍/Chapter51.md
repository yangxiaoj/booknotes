# 从零学量化51：QuantStats库之金融指标中文指南（七）
### 48. rolling_sharpe(returns, rf=0.0, rolling_period=126, annualize=True, periods_per_year=252, prepare_returns=True)
rolling_sharpe函数用于计算投资组合的滚动夏普比率。夏普比率是一个常用的风险调整后的回报率指标，用于评估每承受一单位总风险，投资组合超过无风险利率的回报是多少。

以下是函数的定义和使用方法：

- returns：这是一个数组或序列，代表你的投资组合或资产的回报率。这个数据可以是价格数据，也可以是已经计算好的回报率数据。
- rf：这是一个数值，代表无风险利率。默认值为0.0。无风险利率通常用于计算超额回报，即投资回报与无风险回报之间的差值。
- rolling_period：这是一个整数，代表滚动窗口的长度。默认值为126，这大约代表半年的交易日数量。
- annualize：这是一个布尔值，用于决定是否需要对夏普比率进行年化处理。如果设置为True，那么函数会对夏普比率进行年化处理；如果设置为False，那么函数将直接返回未经年化处理的夏普比率。
- periods_per_year：这是一个整数，代表一年中的期数。默认值为252，这通常代表一个交易年的交易日数量。
- prepare_returns：这是一个布尔值，用于决定是否需要对回报率数据进行预处理。预处理包括将回报率数据转换为适合计算的格式，例如将价格数据转换为回报率数据。如果设置为True，那么函数会进行预处理；如果设置为False，那么函数将直接使用输入的回报率数据。

函数的返回值是一个滚动窗口的夏普比率。这个比率可以用来评估投资组合在不同时间段的风险调整后的回报。
### 49. rolling_sortino(returns, rf=0, rolling_period=126, annualize=True, periods_per_year=252, **kwargs)
rolling_sortino函数用于计算投资组合的滚动索提诺比率。索提诺比率是一种风险调整后的回报率指标，用于评估每承受一单位下行风险，投资组合超过无风险利率的回报是多少。

以下是函数的定义和使用方法：

- returns：这是一个数组或序列，代表你的投资组合或资产的回报率。这个数据可以是价格数据，也可以是已经计算好的回报率数据。
- rf：这是一个数值，代表无风险利率。默认值为0.0。无风险利率通常用于计算超额回报，即投资回报与无风险回报之间的差值。
- rolling_period：这是一个整数，代表滚动窗口的长度。默认值为126，这大约代表半年的交易日数量。
- annualize：这是一个布尔值，用于决定是否需要对索提诺比率进行年化处理。如果设置为True，那么函数会对索提诺比率进行年化处理；如果设置为False，那么函数将直接返回未经年化处理的索提诺比率。
- periods_per_year：这是一个整数，代表一年中的期数。默认值为252，这通常代表一个交易年的交易日数量。
- **kwargs：可选的关键字参数prepare_returns，一个布尔值，用于决定是否需要对回报率数据进行预处理。预处理包括将回报率数据转换为适合计算的格式，例如将价格数据转换为回报率数据。如果设置为True，那么函数会进行预处理。

函数的返回值是一个滚动窗口的索提诺比率。这个比率可以用来评估投资组合在不同时间段的风险调整后的回报。
### 50. rolling_volatility(returns, rolling_period=126, periods_per_year=252, prepare_returns=True)
rolling_volatility函数用于计算投资组合的滚动波动率。波动率是一个衡量投资组合价格变动幅度的指标，通常用于评估投资风险。

以下是函数的定义和使用方法：

- returns：这是一个数组或序列，代表你的投资组合或资产的回报率。这个数据可以是价格数据，也可以是已经计算好的回报率数据。
- rolling_period：这是一个整数，代表滚动窗口的长度。默认值为126，这大约代表半年的交易日数量。
- periods_per_year：这是一个整数，代表一年中的期数。默认值为252，这通常代表一个交易年的交易日数量。
- prepare_returns：这是一个布尔值，用于决定是否需要对回报率数据进行预处理。预处理包括将回报率数据转换为适合计算的格式，例如将价格数据转换为回报率数据。如果设置为True，那么函数会进行预处理；如果设置为False，那么函数将直接使用输入的回报率数据。

函数的返回值是一个滚动窗口的波动率。这个指标可以用来评估投资组合在不同时间段的风险水平。
### 51. ror(returns)
ror函数是risk_of_ruin()函数的简写，用于计算投资组合的破产风险。破产风险是一个重要的风险指标，衡量的是投资组合在一定的投资期限内，可能出现的资金损失到无法再进行投资活动的风险。

以下是函数的定义和使用方法：

- returns：这是一个数组或序列，代表你的投资组合或资产的回报率。这个数据可以是价格数据，也可以是已经计算好的回报率数据。

函数的返回值是一个数值，代表投资组合的破产风险。
### 52. sharpe(returns, rf=0.0, periods=252, annualize=True, smart=False)
sharpe函数用于计算投资组合的夏普比率。夏普比率是一种风险调整后的回报率指标，用于评估每承受一单位总风险，投资组合超过无风险利率的回报是多少。

以下是函数的定义和使用方法：

- returns：这是一个数组或序列，代表你的投资组合或资产的回报率。这个数据可以是价格数据，也可以是已经计算好的回报率数据。
- rf：这是一个数值，代表无风险利率。默认值为0.0。无风险利率通常用于计算超额回报，即投资回报与无风险回报之间的差值。如果rf不为零，你必须指定periods参数。在这种情况下，rf被假定为以年化收益率的形式表示。
- periods：这是一个整数，代表回报频率。对于日收益率，该值为252或365；对于月收益率，该值为12。
- annualize：这是一个布尔值，用于决定是否需要对夏普比率进行年化处理。如果设置为True，那么函数会对夏普比率进行年化处理；如果设置为False，那么函数将直接返回未经年化处理的夏普比率。
- smart：这是一个布尔值，用于决定是否返回智能夏普比率。智能夏普比率是一种对传统夏普比率进行改进的指标，其考虑了投资回报的偏度和峰度信息。

函数的返回值是一个数值，代表投资组合的夏普比率或智能夏普比率。这个比率可以用来评估投资组合的风险调整后的表现。
### 53. sortino(returns, rf=0, periods=252, annualize=True, smart=False)
sortino函数用于计算投资组合的索提诺比率。索提诺比率是一种风险调整后的回报率指标，与夏普比率相似，但索提诺比率只考虑下行风险（即负回报），因此它更适用于对非对称风险敏感的投资者。
以下是函数的定义和使用方法：

- returns：这是一个数组或序列，代表你的投资组合或资产的回报率。这个数据可以是价格数据，也可以是已经计算好的回报率数据。
- rf：这是一个数值，代表无风险利率。默认值为0.0。无风险利率通常用于计算超额回报，即投资回报与无风险回报之间的差值。如果rf不为零，你必须指定periods参数。在这种情况下，rf被假定为以年化收益率的形式表示。
- periods：这是一个整数，代表回报频率。对于日收益率，该值为252或365；对于月收益率，该值为12。
- annualize：这是一个布尔值，用于决定是否需要对索提诺比率进行年化处理。如果设置为True，那么函数会对索提诺比率进行年化处理；如果设置为False，那么函数将直接返回未经年化处理的索提诺比率。
- smart：这是一个布尔值，用于决定是否返回智能索提诺比率。智能索提诺比率是一种对传统索提诺比率进行改进的指标，其考虑了投资回报的偏度和峰度信息。

函数的返回值是一个数值，代表投资组合的索提诺比率或智能索提诺比率。这个比率可以用来评估投资组合的风险调整后的表现。

（未完待续）
